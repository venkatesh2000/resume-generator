{"ast":null,"code":"'use strict';\n\nconst Cursor = require('./cursor');\n\nconst ops = require('./ops');\n\nconst util = require('./util');\n\nconst renderImage = require('./image/render');\n\nconst PDFImage = require('./image/pdf');\n\nconst JPEGImage = require('./image/jpeg');\n\nconst ALREADY_ENDED_ERROR = new Error('already ended');\nmodule.exports = class Fragment {\n  constructor(doc, parent) {\n    this._init(doc, parent);\n  } /// private API\n\n\n  _init(doc, parent) {\n    this._doc = doc;\n    this._parent = parent;\n    this._cursor = parent._cursor;\n    this._ended = false;\n    this._current = null;\n    this._pending = parent._pending;\n  }\n\n  async _pageBreak(level) {\n    if (this._parent) {\n      await this._parent._pageBreak(level + 1);\n    }\n  }\n\n  async _end() {// abstract\n  }\n\n  _begin(ctx) {\n    if (this._ended) {\n      throw ALREADY_ENDED_ERROR;\n    }\n\n    if (this._current) {\n      this._current.end();\n    }\n\n    this._current = ctx;\n  }\n\n  _opts(opts) {\n    if (this.opts) {\n      // inherit font options\n      return Object.assign({\n        font: this.opts.font,\n        fontSize: this.opts.fontSize,\n        color: this.opts.color,\n        lineHeight: this.opts.lineHeight\n      }, opts);\n    } else {\n      return opts;\n    }\n  } /// public API\n\n\n  end() {\n    if (this._ended) {\n      throw ALREADY_ENDED_ERROR;\n    }\n\n    if (this._current) {\n      this._current.end();\n\n      this._current = null;\n    }\n\n    this._ended = true;\n\n    this._pending.push(() => this._end());\n  }\n\n  text(text, opts) {\n    if (text !== null && typeof text === 'object') {\n      opts = text;\n      text = undefined;\n    }\n\n    if (!opts || typeof opts !== 'object') {\n      opts = {};\n    }\n\n    const Text = require('./text');\n\n    const ctx = new Text(this._doc, this, this._opts(opts));\n\n    this._begin(ctx);\n\n    ctx._pending.push(() => ctx._start());\n\n    if (typeof text === 'string' && text.length > 0) {\n      ctx.add(text);\n    }\n\n    return ctx;\n  }\n\n  cell(text, opts) {\n    if (text !== null && typeof text === 'object') {\n      opts = text;\n      text = undefined;\n    }\n\n    if (!opts || typeof opts !== 'object') {\n      opts = {};\n    }\n\n    const Cell = require('./cell');\n\n    const ctx = new Cell(this._doc, this, this._opts(opts));\n\n    this._begin(ctx);\n\n    ctx._pending.push(() => ctx._start());\n\n    this._pending.push(ctx._pending);\n\n    if (typeof text === 'string' && text.length > 0) {\n      ctx.text(text, opts);\n    }\n\n    return ctx;\n  }\n\n  table(opts) {\n    if (!opts || typeof opts !== 'object') {\n      opts = {};\n    }\n\n    const Table = require('./table');\n\n    const ctx = new Table(this._doc, this, this._opts(opts));\n\n    this._begin(ctx);\n\n    return ctx;\n  }\n\n  image(img, opts) {\n    if (!(img instanceof JPEGImage) && !(img instanceof PDFImage)) {\n      throw new TypeError('Expected an image object');\n    }\n\n    if (!opts || typeof opts !== 'object') {\n      opts = {};\n    }\n\n    this._begin(null);\n\n    this._pending.push(() => renderImage(img, this._doc, this, opts));\n  }\n\n  pageBreak() {\n    this._begin(null);\n\n    this._pending.push(() => this._parent._pageBreak(1));\n  }\n\n  op(fn) {\n    this._begin(null);\n\n    this._pending.push(async () => {\n      if (!this._doc._currentContent) {\n        await this._doc._startPage();\n      }\n\n      let args = arguments;\n\n      if (typeof fn === 'function') {\n        args = fn(this._cursor.x, this._cursor.y);\n\n        if (!Array.isArray(args)) {\n          throw new TypeError('Return of .op(() => {}) must be an array');\n        }\n      }\n\n      return this._doc._write(ops.write.apply(ops, args));\n    });\n  }\n\n  destination(name) {\n    this._begin(null);\n\n    this._pending.push(async () => {\n      const DestinationRangeStyle = require('./text').DestinationRangeStyle;\n\n      const self = {\n        destination: name,\n        doc: this._doc,\n        from: this._cursor.x,\n        y: this._cursor.y\n      };\n\n      DestinationRangeStyle.prototype._applyStyle.call(self);\n    });\n  }\n\n};","map":{"version":3,"sources":["/mnt/c/Users/Venkatesh/Documents/6th Sem/Web Dev/project/resume-generator/node_modules/pdfjs/lib/fragment.js"],"names":["Cursor","require","ops","util","renderImage","PDFImage","JPEGImage","ALREADY_ENDED_ERROR","Error","module","exports","Fragment","constructor","doc","parent","_init","_doc","_parent","_cursor","_ended","_current","_pending","_pageBreak","level","_end","_begin","ctx","end","_opts","opts","Object","assign","font","fontSize","color","lineHeight","push","text","undefined","Text","_start","length","add","cell","Cell","table","Table","image","img","TypeError","pageBreak","op","fn","_currentContent","_startPage","args","arguments","x","y","Array","isArray","_write","write","apply","destination","name","DestinationRangeStyle","self","from","prototype","_applyStyle","call"],"mappings":"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","sourcesContent":["'use strict'\n\nconst Cursor = require('./cursor')\nconst ops = require('./ops')\nconst util = require('./util')\nconst renderImage = require('./image/render')\nconst PDFImage = require('./image/pdf')\nconst JPEGImage = require('./image/jpeg')\n\nconst ALREADY_ENDED_ERROR = new Error('already ended')\n\nmodule.exports = class Fragment {\n  constructor(doc, parent) {\n    this._init(doc, parent)\n  }\n\n  /// private API\n\n  _init(doc, parent) {\n    this._doc = doc\n    this._parent = parent\n    this._cursor = parent._cursor\n    this._ended = false\n    this._current = null\n\n    this._pending = parent._pending\n  }\n\n  async _pageBreak(level) {\n    if (this._parent) {\n       await this._parent._pageBreak(level + 1)\n    }\n  }\n\n  async _end() {\n    // abstract\n  }\n\n  _begin(ctx) {\n    if (this._ended) {\n      throw ALREADY_ENDED_ERROR\n    }\n\n    if (this._current) {\n      this._current.end()\n    }\n\n    this._current = ctx\n  }\n\n  _opts(opts) {\n    if (this.opts) {\n      // inherit font options\n      return Object.assign({\n        font: this.opts.font,\n        fontSize: this.opts.fontSize,\n        color: this.opts.color,\n        lineHeight: this.opts.lineHeight,\n      }, opts)\n    } else {\n      return opts\n    }\n  }\n\n  /// public API\n\n  end() {\n    if (this._ended) {\n      throw ALREADY_ENDED_ERROR\n    }\n\n    if (this._current) {\n      this._current.end()\n      this._current = null\n    }\n\n    this._ended = true\n    this._pending.push(() => this._end())\n  }\n\n  text(text, opts) {\n    if (text !== null && typeof text === 'object') {\n      opts = text\n      text = undefined\n    }\n\n    if (!opts || typeof opts !== 'object') {\n      opts = {}\n    }\n\n    const Text = require('./text')\n    const ctx = new Text(this._doc, this, this._opts(opts))\n    this._begin(ctx)\n\n    ctx._pending.push(() => ctx._start())\n\n    if (typeof text === 'string' && text.length > 0) {\n      ctx.add(text)\n    }\n\n    return ctx\n  }\n\n  cell(text, opts) {\n    if (text !== null && typeof text === 'object') {\n      opts = text\n      text = undefined\n    }\n    if (!opts || typeof opts !== 'object') {\n      opts = {}\n    }\n\n    const Cell = require('./cell')\n    const ctx = new Cell(this._doc, this, this._opts(opts))\n    this._begin(ctx)\n\n    ctx._pending.push(() => ctx._start())\n    this._pending.push(ctx._pending)\n\n    if (typeof text === 'string' && text.length > 0) {\n      ctx.text(text, opts)\n    }\n\n    return ctx\n  }\n\n  table(opts) {\n    if (!opts || typeof opts !== 'object') {\n      opts = {}\n    }\n\n    const Table = require('./table')\n    const ctx = new Table(this._doc, this, this._opts(opts))\n    this._begin(ctx)\n\n    return ctx\n  }\n\n  image(img, opts) {\n    if (!(img instanceof JPEGImage) && !(img instanceof PDFImage)) {\n      throw new TypeError('Expected an image object')\n    }\n    if (!opts || typeof opts !== 'object') {\n      opts = {}\n    }\n\n    this._begin(null)\n    this._pending.push(() => renderImage(img, this._doc, this, opts))\n  }\n\n  pageBreak() {\n    this._begin(null)\n    this._pending.push(() => this._parent._pageBreak(1))\n  }\n\n  op(fn) {\n    this._begin(null)\n    this._pending.push(async () => {\n      if (!this._doc._currentContent) {\n        await this._doc._startPage()\n      }\n\n      let args = arguments\n      if (typeof fn === 'function') {\n        args = fn(this._cursor.x, this._cursor.y)\n        if (!Array.isArray(args)) {\n          throw new TypeError('Return of .op(() => {}) must be an array')\n        }\n      }\n      return this._doc._write(ops.write.apply(ops, args))\n    })\n  }\n\n  destination(name) {\n    this._begin(null)\n    this._pending.push(async () => {\n      const DestinationRangeStyle = require('./text').DestinationRangeStyle\n      const self = {\n        destination: name,\n        doc: this._doc,\n        from: this._cursor.x,\n        y: this._cursor.y,\n      }\n      DestinationRangeStyle.prototype._applyStyle.call(self)\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"script"}