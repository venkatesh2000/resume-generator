{"ast":null,"code":"const util = require('../util');\n\nconst PDFImage = require('./pdf');\n\nconst JPEGImage = require('./jpeg');\n\nmodule.exports = class Image {\n  constructor(b) {\n    const src = util.toArrayBuffer(b);\n\n    switch (determineType(src)) {\n      case 'pdf':\n        return new PDFImage(src);\n\n      case 'jpeg':\n        return new JPEGImage(src);\n\n      default:\n        throw new TypeError('Unsupported image type');\n    }\n  }\n\n};\n\nfunction determineType(buffer) {\n  const pdf = String.fromCharCode.apply(null, new Uint8Array(buffer, 0, 5));\n\n  if (pdf === '%PDF-') {\n    return 'pdf';\n  }\n\n  const view = new DataView(buffer);\n\n  if (view.getUint8(0) === 0xff || view.getUint8(1) === 0xd8) {\n    return 'jpeg';\n  }\n\n  return null;\n}","map":{"version":3,"sources":["/mnt/c/Users/Venkatesh/Documents/6th Sem/Web Dev/project/resume-generator/node_modules/pdfjs/lib/image/image.js"],"names":["util","require","PDFImage","JPEGImage","module","exports","Image","constructor","b","src","toArrayBuffer","determineType","TypeError","buffer","pdf","String","fromCharCode","apply","Uint8Array","view","DataView","getUint8"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,SAAD,CAApB;;AACA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,OAAD,CAAxB;;AACA,MAAME,SAAS,GAAGF,OAAO,CAAC,QAAD,CAAzB;;AAEAG,MAAM,CAACC,OAAP,GAAiB,MAAMC,KAAN,CAAY;AAC3BC,EAAAA,WAAW,CAACC,CAAD,EAAI;AACb,UAAMC,GAAG,GAAGT,IAAI,CAACU,aAAL,CAAmBF,CAAnB,CAAZ;;AAEA,YAAQG,aAAa,CAACF,GAAD,CAArB;AACE,WAAK,KAAL;AACE,eAAO,IAAIP,QAAJ,CAAaO,GAAb,CAAP;;AACF,WAAK,MAAL;AACE,eAAO,IAAIN,SAAJ,CAAcM,GAAd,CAAP;;AACF;AACE,cAAM,IAAIG,SAAJ,CAAc,wBAAd,CAAN;AANJ;AAQD;;AAZ0B,CAA7B;;AAeA,SAASD,aAAT,CAAuBE,MAAvB,EAA+B;AAC7B,QAAMC,GAAG,GAAGC,MAAM,CAACC,YAAP,CAAoBC,KAApB,CAA0B,IAA1B,EAAgC,IAAIC,UAAJ,CAAeL,MAAf,EAAuB,CAAvB,EAA0B,CAA1B,CAAhC,CAAZ;;AACA,MAAIC,GAAG,KAAK,OAAZ,EAAqB;AACnB,WAAO,KAAP;AACD;;AAED,QAAMK,IAAI,GAAG,IAAIC,QAAJ,CAAaP,MAAb,CAAb;;AACA,MAAIM,IAAI,CAACE,QAAL,CAAc,CAAd,MAAqB,IAArB,IAA6BF,IAAI,CAACE,QAAL,CAAc,CAAd,MAAqB,IAAtD,EAA4D;AAC1D,WAAO,MAAP;AACD;;AAED,SAAO,IAAP;AACD","sourcesContent":["const util = require('../util')\nconst PDFImage = require('./pdf')\nconst JPEGImage = require('./jpeg')\n\nmodule.exports = class Image {\n  constructor(b) {\n    const src = util.toArrayBuffer(b)\n\n    switch (determineType(src)) {\n      case 'pdf':\n        return new PDFImage(src)\n      case 'jpeg':\n        return new JPEGImage(src)\n      default:\n        throw new TypeError('Unsupported image type')\n    }\n  }\n}\n\nfunction determineType(buffer) {\n  const pdf = String.fromCharCode.apply(null, new Uint8Array(buffer, 0, 5))\n  if (pdf === '%PDF-') {\n    return 'pdf'\n  }\n\n  const view = new DataView(buffer)\n  if (view.getUint8(0) === 0xff || view.getUint8(1) === 0xd8) {\n    return 'jpeg'\n  }\n\n  return null\n}\n"]},"metadata":{},"sourceType":"script"}